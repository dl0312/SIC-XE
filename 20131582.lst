5	0000	COPY	START	0
15	0000	FIRST 	STL 	RETADR	17202D 
20	0003			LDB 	#LENGTH	69202D
25					BASE 	LENGTH
30	0006	CLOOP 	+JSUB 	RDREC	4B101036
35	000A			LDA 	LENGTH	032026 
40	000D			COMP 	#0	290000
45	0010			JEQ 	ENDFIL	332007 
50	0013			+JSUB 	WRREC	4B10105D
55	0017			J 	CLOOP	3F2FEC 
60	001A	ENDFIL 	LDA 	EOF	032010 
65	001D			STA 	BUFFER	0F2016 
70	0020			LDA 	#3	010003
75	0023			STA 	LENGTH	0F200D 
80	0026			+JSUB 	WRREC	4B10105D
85	002A			J 	@RETADR	3E2003
90	002D	EOF 	BYTE 	C'EOF'	454F46
95	0030	RETADR 	RESW 	1	
100	0033	LENGTH 	RESW 	1	
105	0036	BUFFER 	RESB 	4096	
110	
115	      SUBROUTINE TO READ RECORD INTO BUFFER
120	
125	1036	RDREC 	CLEAR 	X	B410
130	1038			CLEAR 	A	B400
135	103A			CLEAR 	S	B440
140	103C			+LDT 	#4096	75101000
145	1040	RLOOP 	TD 	INPUT	E32019 
150	1043			JEQ 	RLOOP	332FFA 
155	1046			RD 	INPUT	DB2013 
160	1049			COMPR 	A	S	A000
165	104B			JEQ 	EXIT	332008 
170	104E			STCH 	BUFFER	X	57C003

175	1051			TIXR 	T	B850
180	1053			JLT 	RLOOP	3B2FEA 
185	1056	EXIT 	STX 	LENGTH	134000

190	1059			RSUB		4F0000
195	105C	INPUT 	BYTE 	X'F1'	F1
200	
205	      SUBROUTINE TO WRITE RECORD FROM BUFFER
210	
215	105D	WRREC 	CLEAR 	X	B410
220	105F			LDT 	LENGTH	774000

225	1062	WLOOP 	TD 	OUTPUT	E32011 
230	1065			JEQ 	WLOOP	332FFA 
235	1068			LDCH 	BUFFER	X	53C003

240	106B			WD 	OUTPUT	DF2008 
245	106E			TIXR 	T	B850
250	1070			JLT 	WLOOP	3B2FEF 
255	1073			RSUB		4F0000
260	1076	OUTPUT 	BYTE 	X'05'	05
265					END 	FIRST
